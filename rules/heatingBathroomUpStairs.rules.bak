//import org.joda.time
import org.openhab.core.library.types.*
import org.openhab.core.persistence.*
import org.openhab.model.script.actions.*

rule "Set all necessary variables for heating"

when
	System started
then
	sendCommand(LogBathoormUpStairs, OFF)
	logInfo("heating", "Nastavljene zaƒçetne vrednosti - " + LogBathoormUpStairs.state)
end

rule "Temperature in bathroom upstairs to low"
when
	Item TempKopalnicaZ received update
then
    var temp = TempKopalnicaZ.state as DecimalType
//    var currHeating = LogHeating.getStateAs(LogHeating.acceptedDataTypes.get(0))
    if (temp <= 22 && LogBathoormUpStairs == OFF) {
		sendCommand(LogBathoormUpStairs, ON)
		logInfo("heating", "Temperatura v kopalnici zgoraj je prenizka, vklopi ogrevanje - " + LogHeating.state)
    } else if (temp >= 23 && LogBathoormUpStairs == ON) {
		sendCommand(LogBathoormUpStairs, OFF)
		logInfo("heating", "Temperatura v kopalnici zgoraj je previsoka, izklopi ogrevanje - " + LogHeating.state)
    }
end

